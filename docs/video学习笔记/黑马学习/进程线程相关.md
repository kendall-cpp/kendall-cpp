## fork的使用

### 利用fork函数创建子进程
```cpp
//fork函数测试
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/types.h>
#include <unistd.h>

int main() {

	printf("before fork,pid:[%d]\n",getpid());
	//创建子进程
	//pid_t fork(void);
	pid_t pid = fork();
	if(pid < 0) //fork失败的情况
	{
		perror("fork error");
		return -1;
	}
	else if(pid > 0) //父进程
	{
		printf("father:pid==[%d]\n",getpid());
		sleep(1);
	}
	else if(pid == 0) //子进程
	{
		printf("child:pid==[%d]\n",getpid());
	}
	//这句话将会打印两次，父子进程都会执行
	printf("last fork,pid:[%d]\n",getpid());
	return 0;
}
```

## ps等相关命令

模拟创建一个进程
`sleep 10000 &`  #后台运行

通过`ps -a `查看进程号，然后通过`kill`杀死

通过名字查看进程
`ps aux | grep sleep`




父进程是bash(同一个窗口是一样的)
```
$ ps aux | grep 60227
kendall   60227  0.0  0.1  22760  5480 pts/5    Ss+  20:29   0:00 /bin/bash
kendall   61466  0.0  0.0  14224  1016 pts/0    S+   20:39   0:00 grep --color=auto 60227
```




