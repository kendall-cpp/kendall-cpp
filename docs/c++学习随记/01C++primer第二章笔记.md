## 第二章
### 2.1 无符号和带符号类型

出去布尔类型和扩展的字符型以外，其他整形可以分为**带符号**和**无符号**两种。带符号可以表示正数，负数和零，而无符号只能表示大于等于0的值。

类型`int`,`short`,`long`和`long long`是带符号的，通常在前面加`unsigned`就可以得到无符号类型。

对于字符串类型：有`char`,`signed char`,`unsigned char`三种，但是字符串的表现形式只有两种：**带符号**和**无符号**
> 8比特的 `unsigned char`可表示为：0~255   
>    
> 8比特的 `signed char` 可表示为：-128~127  

### 2.2 变量默认初始化问题

如果在定义变量时没有指定初值，那么变量会被默认初始化。

三条性质：
- 1、定义在任何函数体外的变量会被初始化为0。   
- 2、定义在函数体内部的变量不会被初始化。 
- 3、类的对象未被初始化，则初值由类决定。

注意：
```js
void main(){
  std::string local_str;
  //因为在std作用域内，而std作用域内有其定义，所以是个空字符串。
}
```

### 2.3 `*`和`&`符号的多层含义
像`*`和`&`这样的符号，既能用作表达式里的运算符，也能作为声明的一部分，符号的上下文决定了符号的意义。

```js
int i = 20;
int &r = i;     //&紧随类型名出现，因此是声明的一部分，r是一个引用
int *p;         //*紧随类型名出现，因此是声明的一部分，p是一个指针
p = &i;         //&出现在表达式中，是一个取地址符
*p  =i;         //*出现在表达式中，是一个解引用符
int &r2 = *p;   //&是声明的一部分，*是一个解引用符
```
> PS: 对象和引用的区别：
> 所谓引用：它只是为存在的对象所起的另外一个名字。它不是一个对象，没有实际的地址。

### 关于指针和引用
#### 1.指向指针的指针
```js
    int ival = 1024;
    int *pi = &ival; //pi是指向int类型的指针,解一次引用
    int **ppi = &pi;  //ppi是指向int类型的指针,需要两次解引用
    cout<<"ival:" << ival << "\n"
        <<"*pi:" << *pi << "\n"
        <<"**ppi:" << **ppi << endl;

// ival:1024
// *pi:1024
// **ppi:1024
```

#### 2.指向指针的引用
> 从右向左读r的定义
```js
int i = 1024;
int *p;
int *&r = p;  //*(&r) = p;  r是p的别名

// *p = i;
// cout<< *r << endl;  //1024

r = &i;  //相当于 p = &i, 把i的地址给p
*r = 0;
cout<< i <<endl; //0
cout << *p << endl; //0
```
### const指针

指针是对象而引用不是，因此和其他对象一样，允许把指针本身定义为常量。**常量指针必须初始化**。

而且一旦初始化，则它的值（也即是存放在指针中的那个地址）就不能再改变。

> `*` 放在`const`前面说明指针是一个常量，是指这**个指针的指向不能变**而不是指针指向的值不能变
```js
int num1= 0;
int *const p = &num1;  //p将一直指向num
*p = 10;   //正确

int num2 = 20;
// p = &num2;  //错误，p指针只能指向num1
cout << num1 << endl;  //10

const double pi = 3.14;
const double *const cp = &pi;  //cp是一个指向常量对象的常量指针
```
> cp是一个指向常量对象的常量指针，无论是cp所指向的值和自己存储的地址都不能改变

### 顶层const和底层const
> 顶层const: 本身的值（地址）不变
> 底层const： 本身指向的值不变，允许改变值（或地址）

```js
int i = 0;
int *const p1 = &i;     //不能改变p1存储地址的值，这是一个顶层const
const int ci = 42;      //不能改变ci的值，这是一个顶层const

const int *p2 = &ci;    //允许改变p2的值(或地址)，不能改p2指向的值，也就是不能通过p2改变ci的值，这是一个底层const
// p2 = &i;
// *p2 = 52;  //错误

const int *const p3 = p2;   //最右的是顶层const,最左的是底层const
const int &r = ci;          //用于声明引用的都是底层const
```








